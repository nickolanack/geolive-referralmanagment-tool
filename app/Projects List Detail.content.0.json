{
    "type": "WizardScriptElement",
    "config": {
        "name": "My Custom Script",
        "script": "\n\n\nvar projectsLabel=\"Projects\";\nvar navigationLink=null;\nvar description=null;\nvar editBtn=null;\n\nvar list=[];\n\nif(item instanceof ProjectList){\n    projectsLabel=item.getLabel();\n    \n    console.error(item);\n    \n    var tag=item.getCategoryLockFilter();\n    if(tag&&!tag.isRootTag()){\n        var parentTag=tag.getParentTagData();\n        navigationLink=function(){\n            UIInteraction.navigateToNamedCategoryType(parentTag.getName());\n        }\n    }\n    \n    \n    if(tag){\n        \n        description=tag.getDescription();\n        if(typeof description=='string'){\n            description=description.split('<').shift();\n        }\n        \n        if(description&&description!==\"\"){\n           description=new Element('p', {html:description, style:'margin: 10px 0 20px 60px;'});\n        }else{\n            description=null;\n        }\n        \n        if ((AppClient.getUserType() == \"admin\" || ProjectTeam.CurrentTeam().getUser(AppClient.getId()).isTeamManager())) {\n        \n\n\n            editBtn=new Element(\"button\", {\n                \"data-lbl\":\"Edit\",\n                \"html\":\"Edit\",\n                \"class\": \"inline-edit\"\n            });\n\n            new UIModalFormButton(editBtn, application, tag, {\n    \n    \t\t\tlabel: \"Edit\",\n    \t\t\tformOptions: {\n    \t\t\t\ttemplate: \"form\"\n    \t\t\t},\n    \t\t\tformName: \"tagForm\",\n    \t\t\t\"class\": \"inline-edit\",\n                stopPropagation:true\n    \n    \t\t})\n        \n            \n        }\n        \n        \n    }\n    \n    \n    if(item.getDescription){\n        description=item.getDescription();\n    }\n    \n}\n\nvar icon='';\nif(item.getIcon){\n    icon='<span class=\"section-icon\" style=\"background-image:url('+item.getIcon()+'); ';\n    \n    if(item.getColor){\n        icon+='background-color:'+item.getColor()+'; ';\n    }\n    \n    icon+='\"><\/span>';\n}\n\n\nvar label=new Element('div', {\n    \"class\":item.getLabelClass?item.getLabelClass():\"section-title section-padding\",\n    html:icon+'<span>'+projectsLabel+'<\/span>'\n});\n\n\nif(navigationLink){\n    label.appendChild(new Element('button',{\n        \"class\":\"nav-link\",\n        events:{\n            click:navigationLink\n        }\n    }))\n}\n\nlabel.setAttribute('data-identifier', 'htmlLabel');\nif(editBtn){\n    label.appendChild(editBtn);\n}\n\nif(description){\n    return [label,description];\n}\n\n\nreturn label;\n\n\n",
        "description": "Info about my custom script"
    }
}